<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript">
      function myWebsocketStart() {
        var ws = new WebSocket("ws://localhost:3000/ws");
        ws.onopen = function(evt) {
          ws.send("ping");
          var myTextArea = document.getElementById("textarea1");
          myTextArea.value = myTextArea.value + "\n" + "First message sent";
        };
        ws.onmessage = function(evt) {
          console.log(evt.data);
          var myTextArea = document.getElementById("textarea1");
          myTextArea.value = myTextArea.value + "\n" + evt.data;
        };
        ws.onclose = function() {
          var myTextArea = document.getElementById("textarea1");
          myTextArea.value = myTextArea.value + "\n" + "Connection closed";
        };
      }
    </script>
  </head>

  <body>
    <button onclick="javascript:myWebsocketStart()">Subscribe</button>
    <textarea id="textarea1">MyTextArea</textarea>
  </body>
</html>
